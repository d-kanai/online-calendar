appId: dkanai.OnlineCalendar
---
# 認証をバイパスしてアプリを起動するサブフロー

# Setup: 全てのテストデータをリセット
- runScript:
    file: ../scripts/reset_all_data.js
    env:
      API_URL: "http://localhost:3001"

# Given: テストユーザーがバックエンドに存在する
- runScript:
    file: ../scripts/setup_test_data.js
    env:
      API_URL: "http://localhost:3001"
      TABLE: "user"
      DATA: |
        {
          "id": "e2e-test-user",
          "email": "test@example.com",
          "password": "e2e-test-password",
          "name": "E2E Test User"
        }


# When: 認証済み状態でアプリを起動
- launchApp:
    clearState: true
    arguments:
      E2E_AUTH_BYPASS: true
