# ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

## ğŸ“‹ ãƒ†ã‚¹ãƒˆç¨®åˆ¥ä¸€è¦§

| ãƒ†ã‚¹ãƒˆç¨®åˆ¥ | å¯¾è±¡é ˜åŸŸ | ãƒ†ã‚¹ãƒˆå†…å®¹ |
|-----------|---------|-----------|
| **TestA** | Backend | API in-out Test |
| **TestB** | Backend | Domain Layer Pattern Test |
| **TestC** | Web Frontend UT | Page Event Test |
| **TestD** | E2E Web | Scenario Test |
| **TestE** | IOS Frontend UT | Page Event Test |
| **TestF** | E2E IOS | Scenario Test |

## ğŸ¯ TestA: Controller API ãƒ†ã‚¹ãƒˆ

### ğŸ“‹ ãƒ†ã‚¹ãƒˆæ–¹é‡
- **Controller 1 methodã«å¯¾ã—ã¦ã®spec**: å„Controllerãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«ç‹¬ç«‹ã—ãŸãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä½œæˆ
- **API in-out test**: HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å…¥å‡ºåŠ›ãƒ†ã‚¹ãƒˆ
- **no mock**: ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã›ãšã€å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã‚µãƒ¼ãƒ“ã‚¹å±¤ã‚’ä½¿ç”¨
- **use real database**: å®Ÿéš›ã®SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã—ãŸçµ±åˆãƒ†ã‚¹ãƒˆ

### ğŸ›¡ï¸ TestAå®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### âœ… åŸºæœ¬è¨­å®š
- [ ] å„Controllerãƒ¡ã‚½ãƒƒãƒ‰ã«å¯¾ã—ã¦ç‹¬ç«‹ã—ãŸspecãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
- [ ] `beforeEach`ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆ`deleteMany()`ï¼‰
- [ ] å®Ÿéš›ã®SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ç”¨ï¼ˆãƒ¢ãƒƒã‚¯ãªã—ï¼‰
- [ ] Factoryãƒ‘ã‚¿ãƒ¼ãƒ³ã§ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ

#### âœ… æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆ
- [ ] **GETç³»**: ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
  - [ ] ç©ºé…åˆ—ã®å ´åˆï¼ˆãƒ‡ãƒ¼ã‚¿ãªã—ï¼‰
  - [ ] å˜ä¸€ãƒ‡ãƒ¼ã‚¿ã®å ´åˆ
  - [ ] è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ã®å ´åˆ
  - [ ] ã‚½ãƒ¼ãƒˆé †ã®ç¢ºèªï¼ˆå¿…è¦ãªå ´åˆï¼‰
  - [ ] ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®ç¢ºèªï¼ˆå¿…è¦ãªå ´åˆï¼‰
- [ ] **POSTç³»**: ãƒ‡ãƒ¼ã‚¿ä½œæˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
  - [ ] å¿…é ˆé …ç›®ã®ã¿ã§ã®ä½œæˆ
  - [ ] å…¨é …ç›®æŒ‡å®šã§ã®ä½œæˆ
  - [ ] ä½œæˆå¾Œã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ¤œè¨¼
  - [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ä¿å­˜ç¢ºèª
- [ ] **PUT/PATCHç³»**: ãƒ‡ãƒ¼ã‚¿æ›´æ–°ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
  - [ ] éƒ¨åˆ†æ›´æ–°ã®å‹•ä½œ
  - [ ] å…¨é …ç›®æ›´æ–°ã®å‹•ä½œ
  - [ ] æ›´æ–°å¾Œã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ¤œè¨¼
  - [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ›´æ–°ç¢ºèª
- [ ] **DELETEç³»**: ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
  - [ ] å‰Šé™¤æˆåŠŸã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹
  - [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã®å‰Šé™¤ç¢ºèª
  - [ ] é–¢é€£ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†ç¢ºèªï¼ˆã‚«ã‚¹ã‚±ãƒ¼ãƒ‰å‰Šé™¤ãªã©ï¼‰

#### âœ… ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ
- [ ] **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼**
  - [ ] å¿…é ˆé …ç›®ã®æ¬ è½ï¼ˆ400ã‚¨ãƒ©ãƒ¼ï¼‰
  - [ ] ä¸æ­£ãªå‹ãƒ»å½¢å¼ï¼ˆ400ã‚¨ãƒ©ãƒ¼ï¼‰
  - [ ] æ–‡å­—åˆ—é•·ã®åˆ¶é™é•åï¼ˆ400ã‚¨ãƒ©ãƒ¼ï¼‰
- [ ] **èªè¨¼ãƒ»èªå¯ã‚¨ãƒ©ãƒ¼**
  - [ ] æœªèªè¨¼ã®å ´åˆï¼ˆ401ã‚¨ãƒ©ãƒ¼ï¼‰
  - [ ] æ¨©é™ä¸è¶³ã®å ´åˆï¼ˆ403ã‚¨ãƒ©ãƒ¼ï¼‰
- [ ] **ãƒªã‚½ãƒ¼ã‚¹ä¸åœ¨ã‚¨ãƒ©ãƒ¼**
  - [ ] å­˜åœ¨ã—ãªã„IDã®æŒ‡å®šï¼ˆ404ã‚¨ãƒ©ãƒ¼ï¼‰
  - [ ] å‰Šé™¤æ¸ˆã¿ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆ404ã‚¨ãƒ©ãƒ¼ï¼‰
- [ ] **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼**
  - [ ] æ¥­å‹™ãƒ«ãƒ¼ãƒ«é•åï¼ˆ409ã‚¨ãƒ©ãƒ¼ãªã©ï¼‰
  - [ ] çŠ¶æ…‹é·ç§»ã®ä¸æ­£ï¼ˆ400ã‚¨ãƒ©ãƒ¼ï¼‰

#### âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ¤œè¨¼
- [ ] HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒæ­£ã—ã„
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒœãƒ‡ã‚£ã®æ§‹é€ ãŒæ­£ã—ã„ï¼ˆsuccess, data, errorï¼‰
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé©åˆ‡
- [ ] æ—¥ä»˜ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒæ­£ã—ã„ï¼ˆISO 8601ï¼‰
- [ ] æ•°å€¤ã®ç²¾åº¦ãŒæ­£ã—ã„

#### âœ… DBå¤‰æ›´æ™‚ã®å¿…é ˆãƒã‚§ãƒƒã‚¯ï¼ˆã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚ï¼‰
- [ ] **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«**: æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨getterè¿½åŠ 
  ```typescript
  get status(): string { return this._status; }
  ```
- [ ] **Repository**: `fromPersistence`ã«æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
  ```typescript
  static fromPersistence(data: { status: string; ... }) {}
  ```
- [ ] **Repository**: `mapToDomain`ã§æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°
  ```typescript
  status: p.status,
  ```
- [ ] **Outputå‹**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©
  ```typescript
  interface ParticipantOutput { status: string; }
  ```
- [ ] **å¤‰æ›é–¢æ•°**: å…¨ã¦ã®`toXXXOutput`ã§æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°
  ```typescript
  status: p.status
  ```
- [ ] **ãƒ†ã‚¹ãƒˆ**: æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒAPIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã¾ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

### ğŸ”„ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### âœ… ãƒ‡ãƒ¼ã‚¿æº–å‚™
- [ ] `beforeEach`ã§å¿…ãšãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ã‚¯ãƒªã‚¢
- [ ] Factoryã‚’ä½¿ç”¨ã—ã¦ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ
- [ ] ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã”ã¨ã«ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’æº–å‚™
- [ ] é–¢é€£ãƒ‡ãƒ¼ã‚¿ã‚‚é©åˆ‡ã«æº–å‚™ï¼ˆå¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ï¼‰

#### âœ… Factoryä½¿ç”¨æ–¹é‡
- [ ] **ç‰¹å®šã®å€¤ãŒé‡è¦ãªå ´åˆ**: æ˜ç¤ºçš„ã«å€¤ã‚’æŒ‡å®š
  ```typescript
  // Given - é–‹å§‹æ™‚åˆ»ãŒé‡è¦ãªãƒ†ã‚¹ãƒˆ
  await meetingFactory.create({
    startTime: new Date('2025-01-15T10:00:00Z'),
    endTime: new Date('2025-01-15T11:00:00Z')
  });
  ```
- [ ] **ä»¶æ•°ã‚„å­˜åœ¨ã ã‘ãŒé‡è¦ãªå ´åˆ**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä½¿ç”¨
  ```typescript
  // Given - ãƒ‡ãƒ¼ã‚¿ã®å­˜åœ¨ã®ã¿ãŒé‡è¦
  await meetingFactory.create({});
  await meetingFactory.create({});
  ```

### ğŸ“ ãƒ†ã‚¹ãƒˆæ§‹æˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### âœ… ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ§‹é€ 
- [ ] ãƒ†ã‚¹ãƒˆåã«ã€Œãƒ¡ã‚½ãƒƒãƒ‰å - æœŸå¾…ã™ã‚‹å‹•ä½œã€ã‚’è¨˜è¼‰
- [ ] Given-When-Thenã‚³ãƒ¡ãƒ³ãƒˆã‚’å¿…ãšè¨˜è¼‰
- [ ] æ—¥æœ¬èªã§ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åã‚’è¨˜è¿°
- [ ] æ„å›³ã¨WHYãŒæ˜ç¢ºãªãƒ†ã‚¹ãƒˆå

#### âœ… ãƒ†ã‚¹ãƒˆå®Ÿè£…ä¾‹
```typescript
test('getAllMeetings - è¤‡æ•°ã®ä¼šè­°ãƒ‡ãƒ¼ã‚¿ãŒé–‹å§‹æ™‚åˆ»é †ã§ã‚½ãƒ¼ãƒˆã•ã‚Œã¦å–å¾—ã§ãã‚‹', async () => {
  // Given - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™
  await meetingFactory.create({
    title: 'åˆå¾Œã®ä¼šè­°',
    startTime: new Date('2025-01-15T14:00:00Z')
  });
  await meetingFactory.create({
    title: 'æœã®ä¼šè­°',
    startTime: new Date('2025-01-15T10:00:00Z')
  });

  // When - å®Ÿè¡Œ
  const mockContext = createMockContext();
  const response = await meetingController.getAllMeetings(mockContext);

  // Then - æ¤œè¨¼
  expect(response.data.success).toBe(true);
  expect(response.data.data).toHaveLength(2);
  expect(response.data.data[0].title).toBe('æœã®ä¼šè­°');
  expect(response.data.data[1].title).toBe('åˆå¾Œã®ä¼šè­°');
});
```

## ğŸš€ ãƒ†ã‚¹ãƒˆå…±é€šãƒ«ãƒ¼ãƒ«

### ğŸ­ ãƒ‡ãƒ¼ã‚¿æº–å‚™ãƒ«ãƒ¼ãƒ«
- **Factoryå¿…é ˆ**: Given ãƒ‡ãƒ¼ã‚¿æº–å‚™ã¯UTï¼ˆUnit Testï¼‰ã€ATï¼ˆAcceptance Testï¼‰ä¸¡æ–¹ã§Factoryã‚’å¿…ãšåˆ©ç”¨ã™ã‚‹ã“ã¨
- **ç›´æ¥ã®DBæ“ä½œç¦æ­¢**: `prisma.user.create()` ãªã©ã®ç›´æ¥çš„ãªDBæ“ä½œã¯é¿ã‘ã€å¿…ãšFactoryã‚’çµŒç”±ã™ã‚‹
- **ä¿å®ˆæ€§å‘ä¸Š**: ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚ã®å½±éŸ¿ã‚’Factoryã«é›†ç´„ã—ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä¿å®ˆæ€§ã‚’é«˜ã‚ã‚‹

```typescript
// âŒ æ‚ªã„ä¾‹ - ç›´æ¥DBæ“ä½œ
await prisma.user.create({
  data: {
    email: 'test@example.com',
    name: 'Test User',
    password: await bcrypt.hash('password', 10)
  }
});

// âœ… è‰¯ã„ä¾‹ - Factoryä½¿ç”¨
await UserFactory.create({
  email: 'test@example.com',
  name: 'Test User'
});

// âœ… ã‚ˆã‚Šè‰¯ã„ä¾‹ - ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ä½¿ç”¨
await UserFactory.createWithName('Test User');
```

### ğŸ“ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å‘½åè¦ç´„
- **æ—¥æœ¬èªã§è¨˜è¿°**: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åã¯æ—¥æœ¬èªã§è¨˜è¿°ã™ã‚‹ã“ã¨
- **æ„å›³ã¨WHYã‚’è¾¼ã‚ã‚‹**: ãƒ†ã‚¹ãƒˆã®ç›®çš„ã¨æ¤œè¨¼ã—ãŸã„ç†ç”±ã‚’æ˜ç¢ºã«ã™ã‚‹
- **å…·ä½“çš„ãªæœŸå¾…å‹•ä½œ**: ã©ã®ã‚ˆã†ãªçµæœã‚’æœŸå¾…ã™ã‚‹ã‹ã‚’å…·ä½“çš„ã«è¨˜è¿°

```typescript
// âŒ æ‚ªã„ä¾‹
test('getAllMeetings', async () => {

// âœ… è‰¯ã„ä¾‹  
test('getAllMeetings - è¤‡æ•°ã®ä¼šè­°ãƒ‡ãƒ¼ã‚¿ãŒé–‹å§‹æ™‚åˆ»é †ã§ã‚½ãƒ¼ãƒˆã•ã‚Œã¦å–å¾—ã§ãã‚‹', async () => {
test('createMeeting - å¿…é ˆé …ç›®ãŒå…¨ã¦å…¥åŠ›ã•ã‚Œã¦ã„ã‚‹å ´åˆã«ä¼šè­°ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã‚‹', async () => {
test('deleteMeeting - å­˜åœ¨ã—ãªã„IDã‚’æŒ‡å®šã—ãŸå ´åˆã«404ã‚¨ãƒ©ãƒ¼ãŒè¿”ã•ã‚Œã‚‹', async () => {
```

### ğŸ“– ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„
**å¿…é ˆ**: å…¨ã¦ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ä»¥ä¸‹ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨

```typescript
test('ãƒ¡ã‚½ãƒƒãƒ‰å - æœŸå¾…ã™ã‚‹å‹•ä½œã®è©³ç´°èª¬æ˜', async () => {
  // Given - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æº–å‚™ã€å‰ææ¡ä»¶ã®è¨­å®š
  
  // When - ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè¡Œ
  
  // Then - çµæœã®æ¤œè¨¼ã€æœŸå¾…å€¤ã¨ã®æ¯”è¼ƒ
});
```

### ğŸ¨ ã‚³ãƒ¡ãƒ³ãƒˆã®å½¹å‰²
- **`// Given`**: ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™ã€ãƒ¢ãƒƒã‚¯è¨­å®šã€å‰ææ¡ä»¶
- **`// When`**: ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®å®Ÿéš›ã®å®Ÿè¡Œ
- **`// Then`**: çµæœæ¤œè¨¼ã€ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã€æœŸå¾…å€¤ãƒã‚§ãƒƒã‚¯

### ğŸ› ï¸ å®Ÿè£…æŒ‡é‡
- **å¯èª­æ€§**: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯ä»•æ§˜æ›¸ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã‚ˆã†æ˜ç¢ºã«è¨˜è¿°
- **ç‹¬ç«‹æ€§**: å„ãƒ†ã‚¹ãƒˆã¯ä»–ã®ãƒ†ã‚¹ãƒˆã«ä¾å­˜ã—ãªã„ç‹¬ç«‹ã—ãŸçŠ¶æ…‹ã§å®Ÿè¡Œ
- **ç¶²ç¾…æ€§**: æ­£å¸¸ç³»ãƒ»ç•°å¸¸ç³»ã®ä¸¡æ–¹ã‚’ã‚«ãƒãƒ¼
- **ä¿å®ˆæ€§**: ã‚³ãƒ¼ãƒ‰å¤‰æ›´æ™‚ã«ãƒ†ã‚¹ãƒˆã‚‚åŒæ™‚ã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

ã“ã®è¦ç´„ã«ã‚ˆã‚Šã€å“è³ªã®é«˜ã„ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¨ç¶™ç¶šçš„ãªå“è³ªä¿è¨¼ã‚’å®Ÿç¾ã™ã‚‹ ğŸ¯

## ğŸ¯ TestC: Frontend Page Behavior ãƒ†ã‚¹ãƒˆ

### ğŸ“‹ ãƒ†ã‚¹ãƒˆæ–¹é‡
- **Page.tsx ã«å¯¾ã™ã‚‹æŒ¯ã‚‹èˆã„ãƒ†ã‚¹ãƒˆ**: å„ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆpage.tsxï¼‰ã®æŒ¯ã‚‹èˆã„ã‚’æ¤œè¨¼
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã®ãƒ†ã‚¹ãƒˆ**: å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
- **æœ€å°é™ã®ãƒ¢ãƒƒã‚¯æˆ¦ç•¥**: 3ã¤ã®ã¿ãƒ¢ãƒƒã‚¯ï¼ˆAPIãƒ¬ã‚¤ãƒ¤ãƒ¼ã€Navigationã€ErrorBoundaryï¼‰
- **çµåˆåº¦ã®æœ€å¤§åŒ–**: Contextã€Hooksã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å®Ÿéš›ã®å®Ÿè£…ã‚’ä½¿ç”¨ã—ã¦ãƒ¢ãƒƒã‚¯é ˜åŸŸã‚’æœ€å°åŒ–
- **å‰¯ä½œç”¨ã®ç¢ºèª**: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ãªã©ã®å‰¯ä½œç”¨ã‚’æ¤œè¨¼
- **âš ï¸ é‡è¦**: TestCã¯å¿…ãšpage.tsxãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã§ã‚ã‚‹ã“ã¨
- **ğŸš« ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®ãƒ¢ãƒƒã‚¯ç¦æ­¢**: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¯å®Ÿéš›ã®å®Ÿè£…ã‚’ä½¿ç”¨ã—ã€ãƒ¢ãƒƒã‚¯ã—ãªã„

### âš ï¸ æœ€é‡è¦: å¿…ãšå®ˆã‚‹ã¹ããƒ†ã‚¹ãƒˆè¦³ç‚¹

| APIç¨®åˆ¥ | ãƒ†ã‚¹ãƒˆè¦³ç‚¹ | å®Ÿè£…æ–¹æ³• |
|---------|-----------|----------|
| **å–å¾—API (Query)** | ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã®æ¤œè¨¼ | **Given**: APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒ¢ãƒƒã‚¯å®šç¾©<br>**When**: ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°<br>**Then**: å–å¾—ã—ãŸå€¤ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª |
| **æ›´æ–°API (Mutation)** | ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã®æ¤œè¨¼ | **Given**: ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã¨submit<br>**When**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ<br>**Then**: â‘ APIã«æ­£ã—ã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæ¸¡ã•ã‚Œã‚‹<br>â‘¡æˆåŠŸæ™‚ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°<br>â‘¢ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã®è¡¨ç¤º |
| **ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³** | å…¥åŠ›æ¤œè¨¼ã®ç¢ºèª | **Given**: ä¸æ­£ãªå…¥åŠ›å€¤<br>**When**: ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚’è©¦è¡Œ<br>**Then**: â‘ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹<br>â‘¡APIãŒå‘¼ã°ã‚Œãªã„ã“ã¨ã‚’ç¢ºèª |
| **ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°** | å…¨ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚«ãƒãƒ¼ | **Given**: ãƒšãƒ¼ã‚¸/ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°<br>**When**: ã‚¯ãƒªãƒƒã‚¯ç­‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿ<br>**Then**: æœŸå¾…ã•ã‚Œã‚‹æŒ¯ã‚‹èˆã„ï¼ˆãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€çŠ¶æ…‹å¤‰æ›´ç­‰ï¼‰ã‚’ç¢ºèª<br>**æ³¨**: ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã§æœªã‚«ãƒãƒ¼ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç‰¹å®š |
| **APIãƒ¬ã‚¹ãƒãƒ³ã‚¹æ¤œè¨¼** | å‹•çš„ãƒ‡ãƒ¼ã‚¿ã®åŒ…æ‹¬çš„ã‚¢ã‚µãƒ¼ãƒˆ | **åŸå‰‡**: APIã§è¿”ã™ãƒ‡ãƒ¼ã‚¿ã¯åŸºæœ¬çš„ã«ç”»é¢ã§ä½¿ç”¨ã•ã‚Œã‚‹ãŸã‚ã€ãƒ¢ãƒƒã‚¯ã§è¨­å®šã—ãŸå‹•çš„ãƒ‡ãƒ¼ã‚¿ã¯å…¨ã¦ç”»é¢ã§ã‚¢ã‚µãƒ¼ãƒˆã™ã‚‹<br>**å®Ÿè£…**: APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª<br>**é™¤å¤–**: é™çš„ãªæ–‡å­—åˆ—ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ç­‰ï¼‰ã¯ã‚¢ã‚µãƒ¼ãƒˆä¸è¦ |

### ğŸ›¡ï¸ TestCå®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### âœ… ãƒ†ã‚¹ãƒˆç®¡ç†ï¼ˆæ–°æ©Ÿèƒ½è¿½åŠ æ™‚ï¼‰
- **ğŸ”¥ é‡è¦**: æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã¯æ—¢å­˜ãƒ†ã‚¹ãƒˆã‚’å‰Šé™¤ã›ãšã€æ–°ã—ã„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®ã¿è¿½åŠ 
- [ ] æ—¢å­˜ã®`describe`ãƒ–ãƒ­ãƒƒã‚¯ã¨ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä¿æŒ
- [ ] æ–°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã¯ç‹¬ç«‹ã—ãŸ`describe`ãƒ–ãƒ­ãƒƒã‚¯ã«åˆ†é›¢
- [ ] æ©Ÿèƒ½åˆ¥ã«ãƒ†ã‚¹ãƒˆã‚’æ•´ç†ï¼ˆä¾‹ï¼š`describe('æ‹›å¾…æ‰¿è«¾æ©Ÿèƒ½', () => {})`ï¼‰
- [ ] ãƒ†ã‚¹ãƒˆåãŒæ©Ÿèƒ½ã‚’æ˜ç¢ºã«è¡¨ã—ã¦ã„ã‚‹

#### âœ… Queryï¼ˆå–å¾—APIï¼‰ãƒ†ã‚¹ãƒˆ
- [ ] APIãŒæ­£ã—ãå‘¼ã°ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] ç©ºãƒ‡ãƒ¼ã‚¿ãƒ»è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãªã©æ§˜ã€…ãªã‚±ãƒ¼ã‚¹ã‚’ãƒ†ã‚¹ãƒˆ
- [ ] APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹•çš„ãƒ‡ãƒ¼ã‚¿ãŒç”»é¢ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

#### âœ… Mutationï¼ˆæ›´æ–°APIï¼‰ãƒ†ã‚¹ãƒˆ - 3ã¤ã®è¦³ç‚¹ã‚’å¿…ãšå®Ÿè£…
- [ ] â‘ APIã«æ­£ã—ã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæ¸¡ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] â‘¡æˆåŠŸæ™‚ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¾ãŸã¯ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¯ãƒ­ãƒ¼ã‚ºã‚’ç¢ºèª
- [ ] â‘¢æˆåŠŸãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

#### âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
- [ ] å¿…é ˆé …ç›®æœªå…¥åŠ›ã§ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼æ™‚ã«APIãŒå‘¼ã°ã‚Œãªã„ã“ã¨ã‚’ç¢ºèª

#### âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
- [ ] APIã‚¨ãƒ©ãƒ¼æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] ãƒ†ã‚¹ãƒˆä¸­ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å‡ºåŠ›ã‚’æŠ‘åˆ¶ï¼ˆ`console.error`ã‚’ãƒ¢ãƒƒã‚¯ï¼‰

### ğŸš« TestCã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³
- âŒ **æ—¢å­˜ãƒ†ã‚¹ãƒˆã®å‰Šé™¤**: æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã«æ—¢å­˜ãƒ†ã‚¹ãƒˆã‚’å‰Šé™¤ã™ã‚‹ã“ã¨
- âŒ **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã®æ›´æ–°**: æ–°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã®ã¿ã§æ—¢å­˜ãƒ†ã‚¹ãƒˆã‚’ç½®ãæ›ãˆã‚‹ã“ã¨
- âŒ é™çš„ãªæ–‡å­—åˆ—ï¼ˆã€Œä¼šè­°ã‚’ä½œæˆã€ãªã©ï¼‰ã®ã‚¢ã‚µãƒ¼ãƒˆ
- âŒ Mutationãƒ†ã‚¹ãƒˆã§3ã¤ã®è¦³ç‚¹ã‚’çœç•¥
- âŒ éåº¦ãªãƒ¢ãƒƒã‚¯ï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒ•ãƒƒã‚¯ã®éå‰°ãªãƒ¢ãƒƒã‚¯ï¼‰
- âŒ å®Ÿè£…è©³ç´°ã®ãƒ†ã‚¹ãƒˆï¼ˆå†…éƒ¨stateã‚„ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ï¼‰

### ğŸ“ å®Ÿè£…ä¾‹

#### æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®ãƒ†ã‚¹ãƒˆæ§‹é€ ï¼ˆæ¨å¥¨ï¼‰
```typescript
describe('CalendarPage', () => {
  // âœ… æ—¢å­˜æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆï¼ˆä¿æŒï¼‰
  describe('ä¼šè­°è¡¨ç¤ºæ©Ÿèƒ½', () => {
    it('ä¼šè­°ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {});
    it('ä¼šè­°è©³ç´°ãŒé–‹ã‘ã‚‹', () => {});
  });

  describe('ä¼šè­°ä½œæˆæ©Ÿèƒ½', () => {
    it('æ–°ã—ã„ä¼šè­°ãŒä½œæˆã§ãã‚‹', () => {});
    it('ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã™ã‚‹', () => {});
  });

  // âœ… æ–°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆï¼ˆè¿½åŠ ï¼‰
  describe('æ‹›å¾…æ‰¿è«¾æ©Ÿèƒ½', () => {
    it('æ‹›å¾…ã•ã‚ŒãŸä¼šè­°ã«å‚åŠ æ‰¿è«¾ã§ãã‚‹ - APIå‘¼ã³å‡ºã—ã€ãƒˆãƒ¼ã‚¹ãƒˆã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°ã‚’ç¢ºèª', () => {});
    it('æ—¢ã«æ‰¿è«¾æ¸ˆã¿ã®ä¼šè­°ã§ã¯æ‰¿è«¾ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„', () => {});
    it('APIã‚¨ãƒ©ãƒ¼æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {});
  });
});
```

#### âŒ é¿ã‘ã‚‹ã¹ããƒ†ã‚¹ãƒˆæ›´æ–°ä¾‹
```typescript
// æ–°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã®ã¿ã§æ—¢å­˜ãƒ†ã‚¹ãƒˆã‚’ç½®ãæ›ãˆ
describe('CalendarPage - æ‹›å¾…æ‰¿è«¾æ©Ÿèƒ½ã®æŒ¯ã‚‹èˆã„ãƒ†ã‚¹ãƒˆ', () => {
  // æ—¢å­˜ã®ä¼šè­°è¡¨ç¤ºãƒ»ä½œæˆæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆãŒæ¶ˆãˆã¦ã„ã‚‹
  it('æ‹›å¾…ã•ã‚ŒãŸä¼šè­°ã«å‚åŠ æ‰¿è«¾ã§ãã‚‹', () => {});
});
```

#### å–å¾—APIï¼ˆãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºï¼‰ã®ãƒ†ã‚¹ãƒˆ
```typescript
it('ä¼šè­°ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async () => {
  // Given - APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒ¢ãƒƒã‚¯
  (meetingApi.getMeetings as jest.Mock).mockResolvedValue({
    success: true,
    data: [
      { id: '1', title: 'ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°', startTime: '2025-01-20T10:00:00Z' },
      { id: '2', title: 'é€²æ—ç¢ºèª', startTime: '2025-01-20T14:00:00Z' }
    ]
  });

  // When - ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  renderWithAuthProvider(<MeetingListPage />);

  // Then - ãƒ‡ãƒ¼ã‚¿ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
  await waitFor(() => {
    expect(screen.getByText('ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°')).toBeVisible();
    expect(screen.getByText('é€²æ—ç¢ºèª')).toBeVisible();
  });
});
```

#### APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹•çš„ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚µãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ
```typescript
it('çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', async () => {
  // Given - APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è©³ç´°ã«ãƒ¢ãƒƒã‚¯
  const mockStatsData = {
    averageDailyMinutes: 120.5,
    weeklyData: [
      { date: '2024-01-15', dayName: 'æœˆ', totalMinutes: 90 },
      { date: '2024-01-16', dayName: 'ç«', totalMinutes: 150 },
      { date: '2024-01-17', dayName: 'æ°´', totalMinutes: 120 },
      { date: '2024-01-18', dayName: 'æœ¨', totalMinutes: 180 },
      { date: '2024-01-19', dayName: 'é‡‘', totalMinutes: 60 },
      { date: '2024-01-20', dayName: 'åœŸ', totalMinutes: 0 },
      { date: '2024-01-21', dayName: 'æ—¥', totalMinutes: 0 },
    ],
  };
  (statsApi.getDailyAverage as jest.Mock).mockResolvedValue({
    success: true,
    data: mockStatsData,
  });

  // When - ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  renderWithAuthProvider(<StatsPage />);

  // Then - APIã®å‹•çš„ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚¢ã‚µãƒ¼ãƒˆï¼ˆé™çš„ãªã‚¿ã‚¤ãƒˆãƒ«ç­‰ã¯é™¤å¤–ï¼‰
  await waitFor(() => {
    // APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã® averageDailyMinutes ã‚’ç¢ºèª
    expect(screen.getByTestId('daily-average-time')).toHaveTextContent('120.5åˆ†');
  });

  // é€±åˆè¨ˆï¼ˆAPIãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è¨ˆç®—ã•ã‚Œã‚‹å‹•çš„ãªå€¤ï¼‰
  expect(screen.getByText('é€±åˆè¨ˆ: 10æ™‚é–“')).toBeVisible();

  // é€±æ¬¡ãƒ‡ãƒ¼ã‚¿ã®dayNameï¼ˆAPIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹•çš„ãƒ‡ãƒ¼ã‚¿ï¼‰
  expect(screen.getByText('æœˆ')).toBeVisible();
  expect(screen.getByText('ç«')).toBeVisible();
  expect(screen.getByText('æ°´')).toBeVisible();
  expect(screen.getByText('æœ¨')).toBeVisible();
  expect(screen.getByText('é‡‘')).toBeVisible();
  expect(screen.getByText('åœŸ')).toBeVisible();
  expect(screen.getByText('æ—¥')).toBeVisible();
  
  // totalMinutesï¼ˆAPIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹•çš„ãƒ‡ãƒ¼ã‚¿ã€formatMinutesé–¢æ•°ã‚’é€šã—ãŸè¡¨ç¤ºï¼‰
  expect(screen.getByText('1æ™‚é–“30åˆ†')).toBeVisible(); // 90åˆ†
  expect(screen.getByText('2æ™‚é–“30åˆ†')).toBeVisible(); // 150åˆ†
  expect(screen.getByText('2æ™‚é–“')).toBeVisible();     // 120åˆ†
  expect(screen.getByText('3æ™‚é–“')).toBeVisible();     // 180åˆ†
  expect(screen.getByText('1æ™‚é–“')).toBeVisible();     // 60åˆ†
});
```

#### æ›´æ–°APIï¼ˆãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼‰ã®ãƒ†ã‚¹ãƒˆ
```typescript
it('ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å¾Œã€æ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹', async () => {
  // Given - APIãƒ¢ãƒƒã‚¯ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  const user = userEvent.setup();
  renderWithAuthProvider(<SignUpPage />);
  
  // When - ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã¨submit
  await user.type(screen.getByLabelText('åå‰'), 'å±±ç”°å¤ªéƒ');
  await user.type(screen.getByLabelText('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹'), 'yamada@example.com');
  await user.click(screen.getByRole('button', { name: 'é€ä¿¡' }));

  // Then - 3ã¤ã®è¦³ç‚¹ã§æ¤œè¨¼
  // â‘  APIã«æ­£ã—ã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæ¸¡ã•ã‚Œã‚‹
  await waitFor(() => {
    expect(authApi.signUp).toHaveBeenCalledWith({
      name: 'å±±ç”°å¤ªéƒ',
      email: 'yamada@example.com'
    });
  });
  
  // â‘¡ æˆåŠŸæ™‚ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  expect(mockRouter.push).toHaveBeenCalledWith('/success');
  
  // â‘¢ ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥
  expect(toast.success).toHaveBeenCalledWith('ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ');
});
```

#### ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ
```typescript
it('å¿…é ˆé …ç›®ãŒæœªå…¥åŠ›ã®å ´åˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async () => {
  // Given
  const user = userEvent.setup();
  renderWithAuthProvider(<SignUpPage />);

  // When - å¿…é ˆé …ç›®ã‚’ç©ºã®ã¾ã¾é€ä¿¡
  await user.click(screen.getByRole('button', { name: 'é€ä¿¡' }));

  // Then - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã®æ¤œè¨¼
  // â‘  ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  await waitFor(() => {
    expect(screen.getByText('åå‰ã¯å¿…é ˆé …ç›®ã§ã™')).toBeVisible();
    expect(screen.getByText('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…é ˆé …ç›®ã§ã™')).toBeVisible();
    expect(screen.getByText('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯6æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„')).toBeVisible();
  });
  
  // â‘¡ APIãŒå‘¼ã°ã‚Œãªã„ã“ã¨ã‚’ç¢ºèª
  expect(authApi.signUp).not.toHaveBeenCalled();
});

it('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãŒä¸æ­£ãªå ´åˆã€ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async () => {
  // Given
  const user = userEvent.setup();
  renderWithAuthProvider(<SignUpPage />);

  // When - ä¸æ­£ãªå½¢å¼ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
  await user.type(screen.getByLabelText('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹'), 'invalid-email');
  await user.click(screen.getByRole('button', { name: 'é€ä¿¡' }));

  // Then
  await waitFor(() => {
    expect(screen.getByText('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„')).toBeVisible();
  });
  expect(authApi.signUp).not.toHaveBeenCalled();
});
```

### ğŸ› ï¸ ãƒ†ã‚¹ãƒˆå®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ
- **ãƒ¢ãƒƒã‚¯æœ€å°åŒ–ã®åŸå‰‡**: 3ã¤ã®ã¿ãƒ¢ãƒƒã‚¯ï¼ˆAPIãƒ¬ã‚¤ãƒ¤ãƒ¼ã€Navigationã€ErrorBoundaryï¼‰
- **å®Ÿè£…ã®çµåˆ**: AuthContextã€ã‚«ã‚¹ã‚¿ãƒ Hooksã€UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å®Ÿéš›ã®å®Ÿè£…ã‚’ä½¿ç”¨
- **renderWithAuthProviderå¿…é ˆ**: å…¨ã¦ã®ãƒ†ã‚¹ãƒˆã§`renderWithAuthProvider`ã‚’ä½¿ç”¨
- **éåŒæœŸå‡¦ç†ã®è€ƒæ…®**: `waitFor`ã‚’ä½¿ç”¨ã—ã¦éåŒæœŸå‡¦ç†ã‚’é©åˆ‡ã«å¾…æ©Ÿ
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã®å†ç¾**: `@testing-library/user-event`ã§å®Ÿéš›ã®æ“ä½œã‚’å¿ å®Ÿã«å†ç¾
- **è¤‡æ•°ã®æ¤œè¨¼**: 1ã¤ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«å¯¾ã™ã‚‹è¤‡æ•°ã®çµæœã‚’åŒ…æ‹¬çš„ã«æ¤œè¨¼
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- **ã‚¤ãƒ™ãƒ³ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’æ´»ç”¨ã—ã€å…¨ã¦ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆç­‰ã‚’ãƒ†ã‚¹ãƒˆã§ã‚«ãƒãƒ¼
- **å‹•çš„ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚¢ã‚µãƒ¼ãƒˆ**: APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹•çš„ãƒ‡ãƒ¼ã‚¿ã¯å…¨ã¦ã‚¢ã‚µãƒ¼ãƒˆã€é™çš„ãªæ–‡å­—åˆ—ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ç­‰ï¼‰ã¯ã‚¢ã‚µãƒ¼ãƒˆä¸è¦
- **ãƒ†ã‚¹ãƒˆãƒ­ã‚°ã®ã‚¯ãƒªãƒ¼ãƒ³åŒ–**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆã§ã¯`console.error`ã‚’ãƒ¢ãƒƒã‚¯ã—ã¦ãƒ­ã‚°å‡ºåŠ›ã‚’æŠ‘åˆ¶

### ğŸ“Š ATDDãƒ—ãƒ­ã‚»ã‚¹ - ã‚¹ãƒ†ãƒƒãƒ—7: ã‚«ãƒãƒ¬ãƒƒã‚¸æ”¹å–„

#### ğŸ¯ ç›®çš„
TestCãƒ†ã‚¹ãƒˆå®Ÿè£…å¾Œã€ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç¢ºèªã—ã€80%ä»¥ä¸‹ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’æŒã¤éƒ¨åˆ†ã‚’ç‰¹å®šã—ã¦æ”¹å–„ã™ã‚‹ã€‚

#### ğŸ” ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèªæ‰‹é †
1. **ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ**
   ```bash
   yarn front:ut
   ```
2. **ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª**
   - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚µãƒãƒªãƒ¼ã‚’ç¢ºèª
   - ç‰¹ã«ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆhooks/ï¼‰ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã«æ³¨ç›®
   - 80%ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç‰¹å®š

#### ğŸ› ï¸ ã‚«ãƒãƒ¬ãƒƒã‚¸æ”¹å–„ã®å®Ÿè£…æ–¹æ³•

##### âœ… TestCãƒ«ãƒ¼ãƒ«ã«å¾“ã£ãŸæ”¹å–„æ–¹æ³•
1. **page.spec.tsxã§ã®æŒ¯ã‚‹èˆã„ãƒ†ã‚¹ãƒˆè¿½åŠ **
   - ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ç›´æ¥ãƒ†ã‚¹ãƒˆã›ãšã€ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é€šã˜ã¦ãƒ†ã‚¹ãƒˆ
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦é–“æ¥çš„ã«ã‚«ãƒãƒ¼
   
   ```typescript
   // âœ… è‰¯ã„ä¾‹ - usePrefetchMeetingsã‚’ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµŒç”±ã§ãƒ†ã‚¹ãƒˆ
   it('ä¼šè­°ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã«ãƒ›ãƒãƒ¼ã™ã‚‹ã¨è©³ç´°ãƒ‡ãƒ¼ã‚¿ãŒãƒ—ãƒªãƒ•ã‚§ãƒƒãƒã•ã‚Œã‚‹', async () => {
     // Given - ä¼šè­°ãƒªã‚¹ãƒˆã‚’ãƒ¢ãƒƒã‚¯
     (meetingApi.getMeetings as jest.Mock).mockResolvedValue({
       success: true,
       data: [{ id: '1', title: 'ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°' }]
     });
     
     // When - ãƒšãƒ¼ã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨ãƒ›ãƒãƒ¼
     const user = userEvent.setup();
     renderWithAuthProvider(<CalendarPage />);
     await waitFor(() => {
       expect(screen.getByText('ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°')).toBeVisible();
     });
     
     // ãƒ›ãƒãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
     await user.hover(screen.getByText('ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°'));
     
     // Then - ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒAPIãŒå‘¼ã°ã‚Œã‚‹
     await waitFor(() => {
       expect(meetingApi.getById).toHaveBeenCalledWith('1');
     });
   });
   ```

2. **ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„æ©Ÿèƒ½ã®å‰Šé™¤**
   - ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒä½ã„ç†ç”±ãŒã€Œæœªä½¿ç”¨ã€ã®å ´åˆã€å®Ÿè£…ã‚’å‰Šé™¤
   - ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹ã‚ˆã‚Šã€ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã™ã‚‹æ–¹ãŒé©åˆ‡
   
   ```typescript
   // âŒ å‰Šé™¤å¯¾è±¡ã®ä¾‹ - å®Ÿéš›ã«ä½¿ã‚ã‚Œã¦ã„ãªã„é–¢æ•°
   export const usePrefetchMeetings = () => {
     // âœ… å®Ÿéš›ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹é–¢æ•°ã¯æ®‹ã™
     const prefetchOnHover = (meetingId: string) => { ... };
     
     // âŒ ä½¿ã‚ã‚Œã¦ã„ãªã„é–¢æ•°ã¯å‰Šé™¤
     const prefetchAll = () => { ... };        // å‰Šé™¤
     const prefetchNext = () => { ... };      // å‰Šé™¤
     
     return { prefetchOnHover };
   };
   ```

##### âŒ é¿ã‘ã‚‹ã¹ãã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
```typescript
// âŒ æ‚ªã„ä¾‹ - ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®ç›´æ¥ãƒ†ã‚¹ãƒˆ
describe('usePrefetchMeetings', () => {
  it('prefetchOnHover calls queryClient.prefetchQuery', () => {
    const { result } = renderHook(() => usePrefetchMeetings());
    // ãƒ•ãƒƒã‚¯ã‚’ç›´æ¥ãƒ†ã‚¹ãƒˆã—ãªã„
  });
});
```

#### ğŸ“‹ ã‚«ãƒãƒ¬ãƒƒã‚¸æ”¹å–„ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] `yarn front:ut`ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç¢ºèª
- [ ] 80%ä»¥ä¸‹ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ç‰¹å®š
- [ ] å„ä½ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ä»¥ä¸‹ã‚’åˆ¤æ–­ï¼š
  - [ ] å®Ÿéš›ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ â†’ page.spec.tsxã§æŒ¯ã‚‹èˆã„ãƒ†ã‚¹ãƒˆè¿½åŠ 
  - [ ] æœªä½¿ç”¨ â†’ å®Ÿè£…ã‚’å‰Šé™¤
- [ ] æ”¹å–„å¾Œã€å†åº¦ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¢ºèª
- [ ] ç›®æ¨™: ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã¯80%ä»¥ä¸Šã®ã‚«ãƒãƒ¬ãƒƒã‚¸

#### ğŸ’¡ å®Ÿä¾‹: usePrefetchMeetingsã®æ”¹å–„
1. **Before**: ã‚«ãƒãƒ¬ãƒƒã‚¸48.71%ï¼ˆ5ã¤ã®é–¢æ•°ä¸­1ã¤ã®ã¿ä½¿ç”¨ï¼‰
2. **åˆ†æ**: `prefetchOnHover`ã®ã¿å®Ÿéš›ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹
3. **å¯¾å¿œ**: æœªä½¿ç”¨ã®4é–¢æ•°ã‚’å‰Šé™¤
4. **After**: ã‚«ãƒãƒ¬ãƒƒã‚¸93.33%ï¼ˆä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹éƒ¨åˆ†ã®ã¿æ®‹ã‚‹ï¼‰

ã“ã®æ–¹æ³•ã«ã‚ˆã‚Šã€å®Ÿéš›ã«å¿…è¦ãªã‚³ãƒ¼ãƒ‰ã®ã¿ã‚’é«˜å“è³ªã«ä¿ã¤ã“ã¨ãŒã§ãã‚‹ã€‚

### ğŸ“Œ ãƒ¢ãƒƒã‚¯æˆ¦ç•¥ï¼ˆ3ã¤ã®ã¿ï¼‰

#### 1ï¸âƒ£ APIãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ¢ãƒƒã‚¯
```typescript
jest.mock('./apis/stats.api', () => ({
  statsApi: {
    getDailyAverage: jest.fn(),
  },
}));
```

#### 2ï¸âƒ£ Navigationã®ãƒ¢ãƒƒã‚¯
```typescript
jest.mock('next/navigation', () => ({
  useRouter: () => ({
    push: mockPush,
    replace: mockReplace,
    prefetch: mockPrefetch,
  }),
  useSearchParams: () => ({
    get: jest.fn(),
  }),
  usePathname: () => '/stats',
}));
```

#### 3ï¸âƒ£ ErrorBoundaryã®ãƒ¢ãƒƒã‚¯
```typescript
jest.mock('react-error-boundary', () => ({
  ErrorBoundary: ({ children }: any) => children,
}));
```

#### âŒ é¿ã‘ã‚‹ã¹ããƒ¢ãƒƒã‚¯
```typescript
// ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ãƒ¢ãƒƒã‚¯ã—ãªã„
jest.mock('./hooks/useStatsQuery'); // âŒ
jest.mock('@tanstack/react-query'); // âŒ

// Contextã‚’ãƒ¢ãƒƒã‚¯ã—ãªã„  
jest.mock('@/contexts/AuthContext'); // âŒ
```


### ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®è¨­å®š

#### test-utils.tsx ã®å®Ÿè£…
```typescript
import React from 'react';
import { render } from '@testing-library/react';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { AuthProvider } from '@/contexts/AuthContext';

// ãƒ†ã‚¹ãƒˆç”¨ã®QueryClientã‚’ä½œæˆ
function createTestQueryClient() {
  return new QueryClient({
    defaultOptions: {
      queries: {
        retry: false,
        staleTime: 0,
        gcTime: 0,
      },
      mutations: {
        retry: false,
      },
    },
  });
}

// ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ - AuthProviderã¨QueryClientProviderã§ãƒ©ãƒƒãƒ—
export function renderWithAuthProvider(ui: React.ReactElement) {
  const testQueryClient = createTestQueryClient();
  
  return render(
    <QueryClientProvider client={testQueryClient}>
      <AuthProvider>
        {ui}
      </AuthProvider>
    </QueryClientProvider>
  );
}

// re-export everything
export * from '@testing-library/react';
```

### ğŸ¯ Suspense/ErrorBoundaryå¯¾å¿œ

#### Suspenseã‚’ä½¿ç”¨ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
- **QueryClientProviderå¿…é ˆ**: `renderWithAuthProvider`ã§è‡ªå‹•çš„ã«æä¾›
- **ErrorBoundaryãƒ¢ãƒƒã‚¯**: ã‚·ãƒ³ãƒ—ãƒ«ã«`({ children }) => children`ã§ãƒ¢ãƒƒã‚¯
- **éåŒæœŸå¾…æ©Ÿ**: `waitFor`ã§é©åˆ‡ã«å¾…æ©Ÿ

#### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆ
- **APIã‚¨ãƒ©ãƒ¼ãƒ¢ãƒƒã‚¯**: `mockRejectedValue`ã‚’ä½¿ç”¨
- **ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºç¢ºèª**: ErrorBoundaryã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¡¨ç¤ºã‚’ç¢ºèª
- **æ³¨æ„**: ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã®Suspense/ErrorBoundaryã®å‹•ä½œã¯å®Ÿç’°å¢ƒã¨ç•°ãªã‚‹å ´åˆãŒã‚ã‚‹

## ğŸ­ E2Eãƒ†ã‚¹ãƒˆç‰¹åˆ¥ãƒ«ãƒ¼ãƒ«

### ğŸš« æ¡ä»¶åˆ†å²ç¦æ­¢
- **Stepå®Ÿè£…å†…ã§ã®ifåˆ†å²ã¯ç¦æ­¢**: ãƒ†ã‚¹ãƒˆã‚¹ãƒ†ãƒƒãƒ—å†…ã§ã®æ¡ä»¶åˆ†å²ã¯é¿ã‘ã‚‹
- **ã‚·ãƒŠãƒªã‚ªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§è¡¨ç¾**: å¿…è¦ãªå‰ææ¡ä»¶ã¯æ˜ç¤ºçš„ã«ã‚·ãƒŠãƒªã‚ªã‚¹ãƒ†ãƒƒãƒ—ã¨ã—ã¦è¿½åŠ ã™ã‚‹
- **å¯èª­æ€§ã¨ä¿å®ˆæ€§**: ã‚·ãƒŠãƒªã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ã‚‹ã ã‘ã§å¿…è¦ãªæº–å‚™ãŒã‚ã‹ã‚‹ã‚ˆã†ã«ã™ã‚‹

```javascript
// âŒ æ‚ªã„ä¾‹ - Stepå†…ã§ifåˆ†å²
Given('ä¼šè­° {string} ã‚’ä½œæˆæ¸ˆã¿', async function (title) {
  const meeting = await MeetingFactory.create({ title });
  
  // æ¡ä»¶åˆ†å²ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
  if (title === 'ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°') {
    await UserFactory.create({
      email: 'hanako@example.com',
      name: 'hanako'
    });
  }
});

// âœ… è‰¯ã„ä¾‹ - æ˜ç¤ºçš„ãªã‚·ãƒŠãƒªã‚ªã‚¹ãƒ†ãƒƒãƒ—
Given('ãƒ¦ãƒ¼ã‚¶ãƒ¼ {string} ãŒç™»éŒ²æ¸ˆã¿', async function (email) {
  await UserFactory.create({
    email: email,
    name: email.split('@')[0]
  });
});
```

```gherkin
# âŒ æ‚ªã„ä¾‹ - å‰ææ¡ä»¶ãŒä¸æ˜ç¢º
Scenario: ã‚ªãƒ¼ãƒŠãƒ¼ãŒå‚åŠ è€…ã‚’æ‹›å¾…ã™ã‚‹
  Given ä¼šè­° "ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°" ã‚’ä½œæˆæ¸ˆã¿
  When ã‚ªãƒ¼ãƒŠãƒ¼ãŒæ–°ã—ã„å‚åŠ è€…ã‚’æ‹›å¾…ã™ã‚‹
  Then å‚åŠ è€…ãŒæ­£å¸¸ã«è¿½åŠ ã•ã‚Œã‚‹

# âœ… è‰¯ã„ä¾‹ - å‰ææ¡ä»¶ãŒæ˜ç¢º
Scenario: ã‚ªãƒ¼ãƒŠãƒ¼ãŒå‚åŠ è€…ã‚’æ‹›å¾…ã™ã‚‹
  Given ãƒ¦ãƒ¼ã‚¶ãƒ¼ "hanako@example.com" ãŒç™»éŒ²æ¸ˆã¿
  And ä¼šè­° "ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°" ã‚’ä½œæˆæ¸ˆã¿
  When ã‚ªãƒ¼ãƒŠãƒ¼ãŒæ–°ã—ã„å‚åŠ è€…ã‚’æ‹›å¾…ã™ã‚‹
  Then å‚åŠ è€…ãŒæ­£å¸¸ã«è¿½åŠ ã•ã‚Œã‚‹
```

### ğŸ“ E2Eã‚·ãƒŠãƒªã‚ªè¨­è¨ˆåŸå‰‡
- **æ˜ç¤ºçš„ãªå‰ææ¡ä»¶**: å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã¯ã‚·ãƒŠãƒªã‚ªã‚¹ãƒ†ãƒƒãƒ—ã§æ˜ç¤ºçš„ã«æº–å‚™ã™ã‚‹
- **å†åˆ©ç”¨å¯èƒ½ãªStep**: æ±ç”¨çš„ãªStepã‚’ä½œæˆã—ã¦è¤‡æ•°ã‚·ãƒŠãƒªã‚ªã§å†åˆ©ç”¨ã™ã‚‹
- **ã‚·ãƒŠãƒªã‚ªã®è‡ªå·±å®Œçµæ€§**: ã‚·ãƒŠãƒªã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã‚€ã ã‘ã§ä½•ãŒå¿…è¦ã‹ã‚ã‹ã‚‹ã‚ˆã†ã«ã™ã‚‹

## ğŸ¯ TestE: iOS Frontend UT

### ğŸ“‹ ãƒ†ã‚¹ãƒˆæ–¹é‡
- **ğŸ“± Screenã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ**: XxxScreenï¼ˆSignInScreenã€MeetingListScreenãªã©ï¼‰ã‚’ãƒ†ã‚¹ãƒˆå¯¾è±¡ã¨ã™ã‚‹
- **SwiftUI Viewã®æŒ¯ã‚‹èˆã„ãƒ†ã‚¹ãƒˆ**: å„Screenã®æŒ¯ã‚‹èˆã„ã‚’æ¤œè¨¼
- **ViewInspectorã‚’ä½¿ç”¨**: SwiftUIãƒ“ãƒ¥ãƒ¼ã®æ¤œæŸ»ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã®ãƒ†ã‚¹ãƒˆ**: å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
- **Viewä¸Šã§ã®æ“ä½œãƒ»ã‚¢ã‚µãƒ¼ãƒˆå„ªå…ˆ**: ã§ãã‚‹é™ã‚ŠViewä¸Šã§æ“ä½œã—ã€Viewä¸Šã§ã‚¢ã‚µãƒ¼ãƒˆ
- **ViewModelã‚¢ã‚µãƒ¼ãƒˆè¨±å¯**: ViewInspectorã®é™ç•Œã®å ´åˆã¯ViewModelä¸Šã§ã®ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ãƒ»stateã‚¢ã‚µãƒ¼ãƒˆã‚‚è¨±å¯

### ğŸ›¡ï¸ TestEå®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### âœ… åŸºæœ¬è¨­å®š
- [ ] Swift Testingãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆ`@Test`ï¼‰ã‚’ä½¿ç”¨
- [ ] ViewInspectorã§ãƒ“ãƒ¥ãƒ¼ã‚’æ¤œæŸ»
- [ ] `@MainActor`ã§ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§ã®å®Ÿè¡Œã‚’ä¿è¨¼
- [ ] EnvironmentObjectã®é©åˆ‡ãªæ³¨å…¥

#### âœ… ãƒ†ã‚¹ãƒˆè¦³ç‚¹
- [ ] **ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º**: APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒViewä¸Šã«æ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆå‹•çš„ãƒ‡ãƒ¼ã‚¿ã®ã¿ï¼‰
- [ ] **ç©ºçŠ¶æ…‹**: ãƒ‡ãƒ¼ã‚¿ãŒãªã„å ´åˆã®é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- [ ] **ã‚¨ãƒ©ãƒ¼è¡¨ç¤º**: APIã‚¨ãƒ©ãƒ¼æ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- [ ] **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**: ã‚¿ãƒƒãƒ—ã€ã‚¹ãƒ¯ã‚¤ãƒ—ãªã©ã®æ“ä½œ
- [ ] **çŠ¶æ…‹å¤‰æ›´**: ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—å¾Œã®çŠ¶æ…‹å¤‰åŒ–ã‚’ç¢ºèª
- [ ] âš ï¸ **é™çš„ãªæ–‡å­—åˆ—ã®è¡¨ç¤ºç¢ºèªã¯ä¸è¦**ï¼ˆä¾‹ï¼šã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒˆãƒ«ã€å›ºå®šãƒ©ãƒ™ãƒ«ãªã©ï¼‰

#### âœ… ã‚«ãƒãƒ¬ãƒƒã‚¸æˆ¦ç•¥
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç¢ºèªã—ãªãŒã‚‰ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- [ ] æœªã‚«ãƒãƒ¼ã®é–¢æ•°ãƒ»è¡Œã‚’ç‰¹å®šã—ã¦ãƒ†ã‚¹ãƒˆè¿½åŠ 
- [ ] **é™¤å¤–å¯¾è±¡**: `.task`, `.refreshable`ãªã©ã®éåŒæœŸãƒ¢ãƒ‡ã‚£ãƒ•ã‚¡ã‚¤ã‚¢ã¯ã‚«ãƒãƒ¼ä¸è¦

### ğŸ“ å®Ÿè£…ä¾‹ï¼ˆMeetingListScreenSpecï¼‰

```swift
@Suite("MeetingListScreenæŒ¯ã‚‹èˆã„ãƒ†ã‚¹ãƒˆ")
struct MeetingListScreenSpec {
    
    @Test("ä¼šè­°ãŒListã«è¡¨ç¤ºã•ã‚Œã‚‹")
    @MainActor
    func test1() async throws {
        // Given - APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒ¢ãƒƒã‚¯
        let mockRepository = MockMeetingRepository()
        let mockMeeting = Meeting(
            id: "1",
            title: "ãƒ†ã‚¹ãƒˆä¼šè­°",
            description: "ãƒ†ã‚¹ãƒˆç”¨ã®ä¼šè­°",
            startDate: Date(),
            endDate: Date().addingTimeInterval(3600),
            organizer: Organizer(id: "org1", name: "ãƒ†ã‚¹ãƒˆä¸»å‚¬è€…", email: "test@example.com"),
            participants: []
        )
        mockRepository.fetchMeetingsResult = .success([mockMeeting])
        
        // ViewModelã¨Viewã‚’æº–å‚™
        let viewModel = MeetingListViewModel(repository: mockRepository)
        let authState = AuthState.shared
        let view = MeetingListScreen(viewModel: viewModel).environmentObject(authState)

        // When - loadMeetingsã‚’å‘¼ã³å‡ºã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰
        await viewModel.loadMeetings()
        
        // ViewInspectorã§ãƒ“ãƒ¥ãƒ¼ã‚’æ¤œæŸ»
        let inspection = try view.inspect()

        // Then - ãƒ“ãƒ¥ãƒ¼ã«ä¼šè­°ã‚¿ã‚¤ãƒˆãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
        let elem = try inspection.find(text: "ãƒ†ã‚¹ãƒˆä¼šè­°")
        #expect(try elem.string() == "ãƒ†ã‚¹ãƒˆä¼šè­°")
    }
}
```

### ğŸ¨ Viewæ“ä½œã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

#### âœ… Viewä¸Šã§ã®æ“ä½œï¼ˆæ¨å¥¨ï¼‰
```swift
@Test("ä¼šè­°ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨selectMeetingãŒå‘¼ã°ã‚Œã‚‹")
@MainActor
func test4() async throws {
    // Given - ä¼šè­°ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¢ãƒƒã‚¯
    let mockRepository = MockMeetingRepository()
    let mockMeeting = Meeting(/* ... */)
    mockRepository.fetchMeetingsResult = .success([mockMeeting])
    
    // ViewModelã¨Viewã‚’æº–å‚™
    let viewModel = MeetingListViewModel(repository: mockRepository)
    let authState = AuthState.shared
    let view = MeetingListView(viewModel: viewModel).environmentObject(authState)

    // When - loadMeetingsã‚’å‘¼ã³å‡ºã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰
    await viewModel.loadMeetings()
    
    // ViewInspectorã§ãƒ“ãƒ¥ãƒ¼ã‚’æ¤œæŸ»ã—ã¦idã§MeetingRowã‚’è¦‹ã¤ã‘ã‚‹
    let inspection = try view.inspect()
    let meetingRow = try inspection.find(viewWithId: "meetingRow_1")
    
    // Then - onTapGestureã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œ
    try meetingRow.callOnTapGesture()
    
    // selectMeetingãŒå‘¼ã°ã‚ŒãŸã“ã¨ã‚’ç¢ºèªï¼ˆViewModelã®çŠ¶æ…‹ã§ç¢ºèªï¼‰
    #expect(viewModel.selectedMeeting?.id == "1")
    #expect(viewModel.selectedMeeting?.title == "ãƒ†ã‚¹ãƒˆä¼šè­°")
}
```

#### âœ… Viewå†…å®¹ã®ã‚¢ã‚µãƒ¼ãƒˆï¼ˆæ¨å¥¨ï¼‰
```swift
@Test("refreshableã§ä¼šè­°ä¸€è¦§ãŒæ›´æ–°ã•ã‚Œã‚‹")
@MainActor
func test5() async throws {
    // Given - åˆæœŸãƒ‡ãƒ¼ã‚¿ã¨æ›´æ–°å¾Œãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¢ãƒƒã‚¯
    let mockRepository = MockMeetingRepository()
    let initialMeeting = Meeting(/* ... */)
    mockRepository.fetchMeetingsResult = .success([initialMeeting])
    
    // ViewModelã¨Viewã‚’æº–å‚™
    let viewModel = MeetingListViewModel(repository: mockRepository)
    let authState = AuthState.shared
    let view = MeetingListView(viewModel: viewModel).environmentObject(authState)

    // åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰
    await viewModel.loadMeetings()
    
    // åˆæœŸãƒ‡ãƒ¼ã‚¿ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
    let initialInspection = try view.inspect()
    let initialMeetingText = try initialInspection.find(text: "åˆæœŸä¼šè­°")
    #expect(try initialMeetingText.string() == "åˆæœŸä¼šè­°")
    
    // When - æ›´æ–°å¾Œã®ãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®šã—ã¦refresh
    let updatedMeeting = Meeting(/* ... */)
    mockRepository.fetchMeetingsResult = .success([updatedMeeting])
    await viewModel.refreshMeetings()
    
    // Then - æ›´æ–°å¾Œã®ãƒ‡ãƒ¼ã‚¿ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
    let updatedInspection = try view.inspect()
    let updatedMeetingText = try updatedInspection.find(text: "æ›´æ–°å¾Œä¼šè­°")
    #expect(try updatedMeetingText.string() == "æ›´æ–°å¾Œä¼šè­°")
}
```

### ğŸš« TestEã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³
- âŒ Screenä»¥å¤–ã®Viewã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç›´æ¥ãƒ†ã‚¹ãƒˆï¼ˆScreenã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã‚’ãƒ†ã‚¹ãƒˆå¯¾è±¡ã¨ã™ã‚‹ï¼‰
- âŒ ViewModelã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç›´æ¥å‘¼ã¶ã ã‘ã®ãƒ†ã‚¹ãƒˆï¼ˆViewã®æ¤œè¨¼ãªã—ï¼‰
- âŒ ã‚«ãƒãƒ¬ãƒƒã‚¸ã®ãŸã‚ã ã‘ã®æ„å‘³ã®ãªã„ãƒ†ã‚¹ãƒˆ
- âŒ `.task`ã‚„`.refreshable`ã®å†…éƒ¨å®Ÿè£…ã‚’ãƒ†ã‚¹ãƒˆ
- âŒ **é™çš„ãªè¡¨ç¤ºç¢ºèªãƒ†ã‚¹ãƒˆ**ï¼ˆä¾‹ï¼šã€Œã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã®ç¢ºèªï¼‰

### ğŸ“Š ã‚«ãƒãƒ¬ãƒƒã‚¸ç®¡ç†
1. **HTML Coverage Reportç”Ÿæˆ**
   ```bash
   npm run ios:ut
   ```
2. **ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª**
   - `ios/coverage/index.html`ã‚’ç¢ºèª
   - é–¢æ•°ãƒ¬ãƒ™ãƒ«ãƒ»è¡Œãƒ¬ãƒ™ãƒ«ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¢ºèª
3. **é™¤å¤–è¨­å®š**
   - APIClientã€Repositoryã¯ã‚«ãƒãƒ¬ãƒƒã‚¸ã‹ã‚‰é™¤å¤–
   - ViewInspectorãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚é™¤å¤–

## ğŸ“‚ ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«é…ç½®ãƒ«ãƒ¼ãƒ«

- ğŸ“ **specã¯ã‚³ãƒ¼ãƒ‰ã®ãã°ã«ç½®ã**: ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`.spec.ts`ï¼‰ã¯å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã™ã‚‹
- ğŸ”— **é–¢é€£æ€§ã®å¯è¦–åŒ–**: ã‚³ãƒ¼ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒåŒã˜å ´æ‰€ã«ã‚ã‚‹ã“ã¨ã§ä¿å®ˆæ€§ã¨ç™ºè¦‹ã—ã‚„ã™ã•ã‚’å‘ä¸Š

```
src/modules/meeting/controllers/
â”œâ”€â”€ meeting.controller.ts      # å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ meeting.controller.spec.ts # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰
```